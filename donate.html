<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Donatio Search</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-slider.css" rel="stylesheet">
    <link href="css/donate.css" rel="stylesheet">
    <link href='css/jquery-ui.css' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href="css/donatio.css" rel="stylesheet">
    <script src="js/donatio.js"></script>  


    </head>
    <body>
          
    <div class="container-fluid">
     <div id='menu'></div>

     <div id="submitModal" class="modal col-md-9">
      <div class="modal-content">
        <div class="row">
          <div class="col-md-1 col-md-offset-11 sent-close">
              <div id="subCloseButton" class="close">&times;</div>
          </div>
          <div class="col-md-4 col-md-offset-4" id="sent-msg" style="display:none">
            <h2>Congratulations!</h2>
            <h3>Your donation has been sent.</h3>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-md-offset-4" id="sum">
              <h4>Donation Summary:</h4>
              <div id="donation_summary"></div>
              <div class = "col-md-2 but" id='but1' onclick="sent()">Send Donation</div>
              <div class = "col-md-2 but" id='but2' onclick='edit()'>Edit Donation</div>
          </div>    
        </div>
      </div>
    </div>

     <div class = "container col-sm-5">
        <h4>My Funds Allocated</h4>
        <div class = "progress">
            <div id="progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%"> 0%</div>
        </div>
        <div class="error_msg">You have allocated 100% of your donation budget. Press DONATE to proceed with your donation or reallocate your funds by reducing one or more of your current donation amounts.</div>
        <h4 id= 'My_Charities' style="margin-bottom: -10px;"></h4>
        <hr>
        <!--div class="alloc_search_bar">
            <div id="imaginary_container"> 
                <div class="input-group stylish-input-group">
                    <input type="text" class="form-control" id ='char-search' onchange='filter_chars()' placeholder="Search your charities" >
                    <span class="input-group-addon">
                        <button type="submit">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>  
                    </span>
                </div>
            </div>
        </div-->
        <div id="charity_list" style="margin-top: -10px;"></div>
        
        <div>
          <button type='submit' class='submit' onclick='submit()'>DONATE</button>
        </div>
        <h4 style="margin-top: 80px; margin-bottom: -10px;">My Family's Charities</h4>
        <hr>
        <div id="family_charity_list" style="margin-top: -10px;"></div>
        <!--div ><div id="legend"></div></div-->
      </div>
      <div class = 'container visual col-sm-7'>
        
        <div class = 'row family_icons'>
            <h4 id = "pie_title">View Donations</h4>
            <div class = 'col-sm-12 icons'>
              <span class="icon col-sm-1" onclick='change_pie(3)'><img class = 'selected' id="icon3" src="data/imgs/users/0.png" height="75" width="75"/><span class="caption">Me</span></span>
              <span class="icon col-sm-1" onclick='change_pie(1)'><img id="icon1" src="data/imgs/users/2.png" height="75" width="75"/><span class="caption">Dad</span></span>
              <span class="icon col-sm-1" onclick='change_pie(2)'><img id="icon2" src="data/imgs/users/3.png" height="75" width="75"/><span class="caption">Mom</span></span>
              <span class="icon col-sm-1" onclick='change_pie(4)'><img id="icon4" src="data/imgs/users/1.png" height="75" width="75"/><span class="caption">Sister</span></span>
              <span class="icon col-sm-1" onclick='change_pie(0)'><img id="icon0" src="imgs/family.jpg" height="75" width="75"/><span class="caption">Family</span></span>
            </div>
        </div>
        <div class = 'row family_allocs'>
            
            <div id ='pie'></div>
        </div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="js/d3.min.js"></script>
    <script src="js/donate.js"></script>
    <script src="js/pie_charts.js"></script>

    <!--Load menu bar separately-->
    <script>
      loadMenu("donate");
      var obj = getSessionObject();
      prog_bar = document.getElementsByClassName('progress-bar')[0]
      prog_bar.setAttribute('aria-valuenow', obj['percentAllocated'])
      prog_bar.setAttribute('style', "width:"+obj['percentAllocated']+"%")
      prog_bar.innerHTML = obj['percentAllocated']+'%'
      makeCharList();
      makeFamCharList()
      make_data();
      change_pie(3);
    </script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <!--script src="js/bootstrap-slider.js"></script-->

    
    
    
  </body>
</html>
